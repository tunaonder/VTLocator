<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Sait Tuna Onder on 2016.04.05 
Copyright Â© 2016 Sait Tuna Onder. All rights reserved.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:body>
        <!-- Do not enter tags before the composition line since they are ignored by JSF -->

        <!-- This page is constructed based on the siteTemplate -->
        <ui:composition template="template/siteTemplate.xhtml">


            <!-- Create the content for this page below -->
            <ui:define name="editableContent">
                <style>body {height: auto;}</style>
                <div align="center">
                    <h:form class="form-signin">
                        <f:event listener="#{accountManager.validateInformation}" type="postValidate"/>
                        <div align="center">
                            <img src="FileStorageLocation/#{accountManager.userPhoto()}" class="img-responsive profile-logo img-thumbnail" alt="Profile Photo" />
                            <h:panelGrid columns="4" cellpadding="5" columnClasses="signup-label, signup-input, signup-message">
                                <p:outputLabel for="firstName" value="First Name" />
                                <p:inplace id="firstName" editor="true" widgetVar="firstName-inplace">
                                    <p:ajax event="save" listener="#{accountManager.updateFirstName}" />
                                    <p:inputText label="text" class="form-display"
                                                 value="#{accountManager.selected.firstName}" />
                                </p:inplace>
                                <i class="fa fa-pencil-square-o fa-2x fa-fw" onclick="PF('firstName-inplace').show()"></i>
                                <p:message for="firstName" display="icon" />   

                                <p:outputLabel for="lastName" value="Last Name" />
                                <p:inplace id="lastName" editor="true" widgetVar="lastName-inplace">
                                    <p:ajax event="save" listener="#{accountManager.updateLastName}" />
                                    <p:inputText label="text" class="form-display"
                                                 value="#{accountManager.selected.lastName}" />
                                </p:inplace>
                                <i class="fa fa-pencil-square-o fa-2x fa-fw" onclick="PF('lastName-inplace').show()"></i>
                                <p:message for="lastName" display="icon" /> 

                                <p:outputLabel for="phone" value="Phone Number" />
                                <p:inplace id="phone" editor="true" widgetVar="phone-inplace">
                                    <p:ajax event="save" listener="#{accountManager.updatePhoneNumber}" />
                                    <p:inputText label="text" class="form-display"
                                                 value="#{accountManager.selected.phoneNumber}" />
                                </p:inplace>
                                <i class="fa fa-pencil-square-o fa-2x fa-fw" onclick="PF('phone-inplace').show()"></i>
                                <p:message for="phone" display="icon" />  

                                <p:outputLabel for="email" value="Email" />
                                <p:outputLabel id="email" styleClass="output-email"
                                               value="#{accountManager.selected.email}" />
                                <i class="fa fa-pencil-square-o fa-2x fa-fw fa-email"></i>
                                <p:message for="email" display="icon" />

                                <p:outputLabel for="security_ques" value="Security Question" />
                                <h:selectOneMenu id="security_ques" value="#{accountManager.security_question}" class="profile-question">
                                    <f:selectItems value="#{accountManager.security_questions}"/>
                                </h:selectOneMenu>
                                <i class="fa fa-pencil-square-o fa-2x fa-fw fa-security-question"></i>
                                <p:message for="security_ques" display="icon" />  

                                <p:outputLabel for="security_ans" value="Security Answer" />
                                <p:inplace id="security_ans" editor="true" widgetVar="security-answer-inplace">
                                    <p:ajax event="save" listener="#{accountManager.updateSecurityAnswer()}" />
                                    <p:inputText label="text" class="form-display"
                                                 value="#{accountManager.selected.securityAnswer}" />
                                </p:inplace>
                                <i class="fa fa-pencil-square-o fa-2x fa-fw" onclick="PF('security-answer-inplace').show()"></i>
                                <p:message for="security_ans" display="icon" />                
                                <br/>
                            </h:panelGrid>
                        </div>
                        <br/>
                        <h:button class="btn btn-lg btn-danger" id="editPhoto" outcome="editPhoto" value="Edit Photo" />
                        <h:button class="btn btn-lg btn-danger" id="changePassword" outcome="changePassword" value="Change Password" />
                        <br/>
                        <h:outputLabel value ="#{accountManager.statusMessage}" />
                    </h:form>
                </div>
            </ui:define>



            <ui:define name="css">
                <link rel="stylesheet" type="text/css" href="resources/css/profile-stylesheet.css"/>
            </ui:define>
        </ui:composition>
        <!-- Do not enter tags after the composition line since they are ignored by JSF -->
    </h:body>

</html>
