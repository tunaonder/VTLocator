<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Michael Steele on 2016.03.14 
Copyright Â© 2016 Michael Steele. All rights reserved.
-->
<!-- 
This file is very similar to the Users tutorial.

Allows the user to upload a new photo to his account.
Saves the uploaded file in the field fileManager.file.
fileManager.upload() checks the uploaded file, creates a thumbnail, places in DB
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Edit Photo</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet name="css/jsfcrud.css"/>
        <h:outputStylesheet library="css" name="globalStyles.css"/>
    </h:head>
    <h:body>
        <script type="text/javascript">
        </script>  
        <ui:composition template="template/siteTemplate.xhtml">
            <!-- Create the content for this page below -->
            <ui:define name="editableContent">
                <div align="center" style="width:50%; margin:0 auto;">
                    <h:form class="form-horizontal" enctype="multipart/form-data">
                        <p:growl id="messages" showDetail="true" redisplay="false"/>
                        <h2>Please Choose a File for Your Photo</h2>
                        <!-- Uploaded file saves in bean using Primefaces simple upload. -->
                        <p:fileUpload id="upload" value="#{fileManager.file}" mode="simple" />
                        <br/>
                        <fieldset>
                            <!-- Called function to save password in Bean into the DB. -->
                            <p:commandButton id="button" styleClass="btn btn-default" value="Upload" 
                                             ajax="false" action="#{fileManager.upload}" />
                        </fieldset>
                        <!-- Error messages to display. -->
                        <h:outputText value="#{fileManager.message}" />
                        <br/>
                        <!-- A function that resets the form and redirects the page.  -->
                        <h:commandButton styleClass="btn btn-default" value="Cancel" action="#{fileManager.cancel()}"/>
                    </h:form>
                </div>
            </ui:define>
        </ui:composition>
    </h:body>


</html>

