<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Sebastian Welsh on 2016.04.21 
Copyright Â© 2016 Sebastian Welsh. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <!-- Do not enter tags before the composition line since they are ignored by JSF -->
        <ui:composition template="template/siteTemplate.xhtml">
            <ui:define name="sidebar">
                <h3>Manage Items</h3>
                <p>Here you can manage the items that you have posted to VTLocator.</p>
                <h4 style="color: orange;">ADD MORE DESCRIPTION HERE</h4>
            </ui:define>
            <ui:define name="mainPanel">
                <div class="lost-and-found-home-wrapper">
                    <h:button outcome="createItem" class="btn btn-lg btn-default pull-right" value="Post Item" />
                    <h1>Your Current Items:</h1> 
                    <div class="row">
                        <!--panelgroup to force ajax update-->
                        <h:panelGroup id="item-list">
                            <ui:repeat var="i" value="#{itemManager.userItems}" rendered="#{itemManager.userItems.size() > 0}" id="item-repeat">
                                <div class="col-md-12">
                                    <div class="manage-item-view well" id="">
                                        <img class="pull-left" src="resources/images/phone.jpg" />
                                        <span>
                                            <h:outputLabel styleClass="item-date pull-right" value="#{i.dateFound}"/>
                                            <h:outputLabel styleClass="item-title" value="#{i.name}" />
                                            <h:inputHidden id="itemID" value="#{i.id}" binding="#{itemID}" />
                                            <br />
                                            <h:button outcome="index" class="btn btn-sm btn-custom" value="Option 1" />
                                            <h:button outcome="index" class="btn btn-sm btn-default" value="Option 2" />
                                            <p:commandButton action="#{itemManager.delete(itemID.value)}" styleClass="btn btn-custom btn-sm btn-custom" value="Delete this item" /> 
                                        </span>
                                    </div>
                                </div>
                            </ui:repeat>
                            </h:panelGroup>
                        <h:outputLabel rendered="#{itemManager.userItems == null || itemManager.userItems.size() == 0}">No items found</h:outputLabel>
                    </div>
                </div>
            </ui:define>
        </ui:composition>
        <!-- Do not enter tags after the composition line since they are ignored by JSF -->
    </h:body>

</html>


